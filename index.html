<script src="https://www.youtube.com/game_api/v1"></script>
<script src="https://cdn.jsdelivr.net/gh/dartsc/Solar-Smash-WEBFIX@latest/Build/Build.loader.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  var buildUrl = "https://cdn.jsdelivr.net/gh/dartsc/Solar-Smash-WEBFIX@latest/Build";
  var streamingAssetsUrl = "https://cdn.jsdelivr.net/gh/dartsc/Solar-Smash-WEBFIX@latest/StreamingAssets";
  
  var canvas = document.createElement("canvas");
  canvas.id = "unity-canvas";
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  canvas.tabIndex = -1;
  document.body.appendChild(canvas);
  
  var progressContainer = document.createElement("div");
  progressContainer.id = "progress-container";
  progressContainer.style.cssText = "position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:300px;height:20px;background:#333;border-radius:10px;overflow:hidden;z-index:1000";
  document.body.appendChild(progressContainer);
  
  var progressBar = document.createElement("div");
  progressBar.id = "progress-bar";
  progressBar.style.cssText = "width:0%;height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a);transition:width 0.3s";
  progressContainer.appendChild(progressBar);
  
  var config = {
    dataUrl: buildUrl + "/Build.data",
    frameworkUrl: buildUrl + "/Build.framework.js",
    codeUrl: buildUrl + "/Build.wasm",
    streamingAssetsUrl: streamingAssetsUrl,
    companyName: "Paradyme Games",
    productName: "Solar Smash FIX",
    productVersion: "0.1.0",
  };
  
  createUnityInstance(canvas, config, function(progress) {
    progressBar.style.width = (progress * 100) + "%";
  }).then(function(unityInstance) {
    window.unityInstance = unityInstance;
    progressContainer.style.display = "none";
    console.log("Unity loaded successfully");
  }).catch(function(message) {
    console.error("Unity load failed:", message);
    progressContainer.innerHTML = '<div style="color:red;text-align:center;padding:5px">Load failed</div>';
  });
  
  window.addEventListener("resize", function() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
});
</script>